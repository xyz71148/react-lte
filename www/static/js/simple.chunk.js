(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{239:function(e,t,n){e.exports=n(416)},240:function(e,t,n){},29:function(e,t,n){"use strict";var o=n(3),a=n(4),r=n(6),i=n(5),c=n(7),l=n(0),s=n.n(l),u=n(23),d=n.n(u),p=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).el=document.createElement("div"),n.container_id=e.id?e.id:"main-content",e.onScroll&&(n.el.onscroll=e.onScroll),e.className?n.el.className=e.className:n.el.className="portal",n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){document.getElementById(this.container_id).appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.getElementById(this.container_id).removeChild(this.el)}},{key:"render",value:function(){return d.a.createPortal(this.props.children,this.el)}}]),t}(s.a.Component);t.a=p},34:function(e,t,n){"use strict";var o=n(0),a=n.n(o),r=n(2),i=n(29),c=n(35),l=(n(63),n(22)),s=n(8),u=Object(r.b)(function(e){var t=e.route;return{go_1:t.go_1,pages_history:t.pages_history}})(function(e){var t=e.children,n=e.go_1,o=e.topGlobal,r=e.className,u=e.pages_history,d=e.id,p=e.title,f=e.showHeader,h=e.visible,g=e.onClose,m=e.onConfirm,v=e.onAdd;if(!d)return null;var w=d.replace(/-/g,"_").replace(/\//g,"_"),b=Object(c.a)({topGlobal:o,page:!0,slideIn:(!h||!n)&&h,slideOut:window.page_close_id&&w===window.page_close_id});function y(e){var t=document.body;window.is_scroll_end=t.offsetHeight+t.scrollTop===t.scrollHeight,console.log(window.is_scroll_end,t.offsetHeight,t.scrollTop,t.scrollHeight)}return o&&h&&Object(s.b)(),window.document.body.onscroll=y,h?a.a.createElement(i.a,{className:r||"portal",onScroll:function(e){y()}},a.a.createElement("div",{className:b,onAnimationEnd:function(){window.page_close_id&&window.page_close_id===w&&(window.page_close_id=null,0===u.length?window.location.href="#":window.history.go(-1)),document.querySelector("#page_"+w).className=o?"topGlobal page":"page"},id:"page_"+w},f&&a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"left"},g&&a.a.createElement("div",{className:"icon",onClick:function(e){e.target;g()}},a.a.createElement(l.e,{size:"1.8em"}))),a.a.createElement("div",{className:"title"},p),a.a.createElement("div",{className:"right"},m&&a.a.createElement("div",{className:"icon",onClick:function(){m()}},a.a.createElement(l.d,{size:"1.8em"})),v&&a.a.createElement("div",{className:"icon",onClick:function(){v()}},a.a.createElement(l.b,{size:"1.8em"})))),a.a.createElement("div",{className:"body"},t,"android"===Object(s.h)()&&a.a.createElement("div",{style:{height:60}})))):null});t.a=u},35:function(e,t,n){"use strict";var o={}.hasOwnProperty;t.a=function e(){for(var t=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var r=typeof a;if("string"===r||"number"===r)t.push(a);else if(Array.isArray(a))t.push(e.apply(null,a));else if("object"===r)for(var i in a)o.call(a,i)&&a[i]&&t.push(i)}}return t.join(" ")}},41:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(12),a="route",r={page:{},index:!0,page_close_id:null,pages_history:[],go_1:!1,page_id:"index"};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0,n=e.keys;switch(t.type){case a+"/setState":case a+"/onClosePage":return Object(o.a)({},e,t.payload);case a+"/hidePage":var i=n.pop();console.log("hidePage",i,n);var c={};return c[i]={visible:!1,id:i},Object(o.a)({},e,{page:Object(o.a)({},e.page,c),page_close_id:null,index:!0,keys:n});case a+"/showPage":var l=t.payload.id,s={};return console.log("showPage",n,l),s[l]=Object(o.a)({visible:!0,id:l},t.payload),Object(o.a)({},e,{page:Object(o.a)({},e.page,s),page_close_id:null,index:!1,keys:n});default:return e}}},416:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(23),i=n.n(r),c=n(27),l=n(42),s=n(41),u=Object(c.c)({app:l.a,route:s.a}),d=n(59),p=n(2),f=n(43),h=n(44),g=n(12),m=n(3),v=n(4),w=n(6),b=n(5),y=n(7),_=n(8),j=(n(62),n(34)),O=(n(240),function(e){function t(){var e,n;Object(m.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={star_css:"star_off",tipTxt:null},n}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.app_loading;return console.log(e),a.a.createElement("div",{className:"Home"},"Home")}}]),t}(o.Component)),k=Object(p.b)(function(e){return{app_loading:e.app.loading}})(O),E={home:{children:a.a.createElement(k,null)},404:{children:a.a.createElement("div",null,a.a.createElement("h1",null,"404"))}},N=[],C=function(e){function t(){var e,n;Object(m.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(w.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!0},n}return Object(y.a)(t,e),Object(v.a)(t,[{key:"handlePageId",value:function(e){var t="404",n=e.hash.replace("#","");n.indexOf("?")&&(window.urlQuery=Object(_.m)(n).query,n=n.split("?")[0]),t=0===n.length?"home":Object.keys(E).includes(n)?n:"404";var o=window.pages_history.length;return o>0&&window.pages_history[o-1]===t?(console.log("go -1"),window.go_1=!0):(window.go_1=!1,window.pages_history.push(t)),this.props.dispatch({type:"route/setState",payload:{page_id:t,pages_history:window.pages_history,go_1:window.go_1}}),t}},{key:"handleUrl",value:function(e){var t=Object(_.m)(e);if(window.urlObject=t,console.log(t),t.query.jwt)Object(_.o)("JWT "+t.query.jwt),this.props.dispatch({type:"app/logged",payload:{access_token:"JWT "+t.query.jwt}}),window.location.href="".concat(t.protocol,"//").concat(t.host).concat(t.pathname).concat(t.hash);else{var n=this.handlePageId(t),o=Object(_.g)();o&&this.props.dispatch({type:"app/logged",payload:{access_token:o}}),N.includes(n.split("/")[0])&&null===o?Object(_.j)():this.finishLoading()}}},{key:"finishLoading",value:function(){this.setState({loading:!1}),setTimeout(function(){document.querySelector(".global-loading").style.display="none"},700)}},{key:"componentDidMount",value:function(){var e=this;window.onpopstate=function(){var t=Object(_.m)(document.location);console.log("onpopstate"),e.handleUrl(t)},this.handleUrl(window.location.href)}},{key:"getPageProps",value:function(e,t){var n=this.props,o=n.page,a=n.page_id,r=!0;"home"===e&&(r=!1);var i=Object(g.a)({visible:a===e,id:e,showHeader:r},t);return o&&o[e]?Object(g.a)({},i,o[e],t,{visible:a===e}):i}},{key:"render",value:function(){var e=this;return this.state.loading?null:a.a.createElement("div",{className:"App"},Object.keys(E).map(function(t){return a.a.createElement(j.a,Object.assign({key:t},e.getPageProps(t,E[t])))}))}}]),t}(o.Component),A=Object(p.b)(function(e){var t=e.app,n=e.route;return{page:n.page,page_id:n.page_id,index:n.index,constant:t.constant}})(C);n(66),n(67),n(68);Object(f.a)();var x=Object(c.d)(u,Object(c.a)(d.a)),S=function(){window.pages_history=[],i.a.render(a.a.createElement(p.a,{store:x},a.a.createElement(A,null)),document.getElementById("root")),h.a()};window.cordova?document.addEventListener("deviceready",S,!1):S()},42:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(12),a={loading:!0,access_token:null,constant:null};function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/setState":case"app/logged":return Object(o.a)({},e,t.payload);default:return e}}},43:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(15),a=n.n(o),r=n(8),i=function(){c()},c=function(){a.a.defaults.timeout=15e3,a.a.interceptors.request.use(function(e){var t=e.url,n=window.globalObject.base_api_url;return t&&0===t.indexOf("http")?e.url="".concat(t):e.url="".concat(n).concat(t),e},function(e){return console.error("request",e),Promise.reject(e)}),a.a.interceptors.response.use(function(e){return e.data&&e.data.code&&403===e.data.code?weui.alert("\u6ca1\u6709\u6743\u9650"):e},function(e){return console.error("response",e.message),e.message.indexOf("401")>0||e.response&&401===e.response.status?(localStorage.removeItem("access_token"),weui.alert("\u8bf7\u5148\u767b\u9646",function(){return Object(r.j)()})):Promise.reject(e)})}},44:function(e,t,n){"use strict";n.d(t,"a",function(){return o});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},62:function(e,t,n){},63:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},8:function(e,t,n){"use strict";n.d(t,"p",function(){return l}),n.d(t,"n",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"k",function(){return g}),n.d(t,"q",function(){return m}),n.d(t,"o",function(){return v}),n.d(t,"j",function(){return w}),n.d(t,"f",function(){return b}),n.d(t,"i",function(){return y}),n.d(t,"e",function(){return _}),n.d(t,"l",function(){return j}),n.d(t,"a",function(){return O}),n.d(t,"h",function(){return k});var o=n(12),a=n(15),r=n.n(a),i=n(60),c=n.n(i);function l(e){var t=new Date;return t.setTime(e),t.getFullYear()+"\u5e74"+(t.getMonth()+1)+"\u6708"+t.getDate()+"\u65e5 "+t.getHours()+":"+t.getMinutes()}function s(e,t,n){var o="",a=t,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(a=Math.round(Math.random()*(n-t))+t);for(var i=0;i<a;i++){o+=r[Math.round(Math.random()*(r.length-1))]}return o}function u(){-1===document.body.className.indexOf("overflow_hidden")&&(document.body.className+=" overflow_hidden")}function d(e,t,n){var a=t[n];a.visible=!1;var r={};r[n]=a,e({type:"route/setState",payload:{page:Object(o.a)({},t,r)}}),1===document.getElementsByClassName("topGlobal").length&&document.body.className.indexOf("overflow_hidden")>-1&&(document.body.className=document.body.className.replace("overflow_hidden",""))}function p(e,t){window.closing=!0;var n=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body",o=e.parentNode;!o.matches(n)&&!o.matches(t);)o=o.parentNode;return o.matches(n)&&(o=null),o}(t,".page").id.substring(5);window.pages_history.pop(),window.page_close_id=n,document.querySelector("#page_"+n).className="page slideOut"}function f(e){return c()(e,!0)}function h(){var e=localStorage.getItem("access_token");return r.a.defaults.headers.common.Authorization=e||void 0,e}function g(){return!!h()}function m(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function v(e){localStorage.setItem("access_token",e),r.a.defaults.headers.common.Authorization=e}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#login";localStorage.removeItem("access_token"),r.a.defaults.headers.common.Authorization=null,window.location.href.indexOf("?redirect=")>0||(window.location.href="".concat(e,"?redirect=")+encodeURIComponent(window.location.href.replace("#login","")))}function b(e,t){var n=[],o={};for(var a in e){var r=e[a].split("-"),i="".concat(r[0],"-").concat(r[1]);o[r[0]]||(o[r[0]]={}),!o[r[0]][r[1]]&&t[i]&&(o[r[0]][r[1]]=[]),t[i]&&o[r[0]][r[1]].push(r[2])}for(var c in Object.keys(o)){var l=Object.keys(o)[c],s={},u=[];for(var d in Object.keys(o[l])){var p=Object.keys(o[l])[d],f={};f.value=p;var h="".concat(l,"-").concat(p);t[h]&&(f.label=t[h],f.children=o[l][p].map(function(e){return{value:e,label:e}}),u.push(f))}u.length>0&&(s.value=l,s.label=t[l],s.children=u,n.push(s))}return n}function y(e){var t=e.split("-");return window.globalObject.constant.zone_names[t[0]+"-"+t[1]]+"-"+t[2]}function _(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function j(e,t){var n=document.createElement("a");n.setAttribute("href",e),t&&n.setAttribute("target",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}var O=function(e,t,n){var o;function a(){var a,r;n.userAgent.match(/ipad|iphone/i)?((a=t.createRange()).selectNodeContents(o),(r=e.getSelection()).removeAllRanges(),r.addRange(a),o.setSelectionRange(0,999999)):o.select()}return{copy:function(e){!function(e){(o=t.createElement("textArea")).value=e,t.body.appendChild(o)}(e),a(),t.execCommand("copy"),t.body.removeChild(o)}}}(window,document,navigator);function k(){var e=navigator.userAgent.toLowerCase();return/(iphone|ipad|ipod|ios)/i.test(e)?"ios":/(macintosh|mac os x)/i.test(e)?"mac":/(windows|win32)/i.test(e)?"windows":/(android)/i.test(e)?"android":/(cordova)/i.test(e)?"cordova":"web"}}},[[239,8,0,1]]]);
//# sourceMappingURL=simple.chunk.js.map